(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{114:function(e,a,t){e.exports=t(144)},119:function(e,a,t){},144:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),l=t.n(c),o=t(11),m=t(15),i=(t(119),t(103)),s=t(22),u=t.n(s),d=t(59),E=t.n(d),p=t(199),b=t(181),f=function(e){var a=e.children,t=e.onClick,n=e.tip,c=e.btnClassName,l=e.tipClassName;return r.a.createElement(p.a,{title:n,className:l,placement:"top"},r.a.createElement(b.a,{onClick:t,className:c},a))},g=t(47),h=t.n(g),y=t(4),O=t(12),v=t(200),N=t(182),j=t(183),S=t(94),I=t.n(S),x=t(17),k=t.n(x),C=function(){return function(e){e({type:"CLEAR_ERRORS"})}},w=function(e){var a=e.screamId,t=Object(n.useState)(!1),c=Object(O.a)(t,2),l=c[0],o=c[1],m=function(){o(!1)},i=Object(y.b)();return r.a.createElement(n.Fragment,null,r.a.createElement(f,{tip:"Delete scream",onClick:function(){o(!0)}},r.a.createElement(I.a,{color:"secondary"})),r.a.createElement(v.a,{open:l,onClose:m,fullWidth:!0,maxWidth:"sm"},r.a.createElement(N.a,null,"Are you sure you want to delete this scream ?"),r.a.createElement(j.a,null,r.a.createElement("button",{onClick:m,type:"button",className:"btn btn-link "},"Cancel"),r.a.createElement("button",{onClick:function(){i(function(e){return function(a){a({type:"LOADING_UI"}),k.a.delete("/scream/".concat(e)).then((function(){a({type:"DELETE_SCREAM",payload:e}),a(C())})).catch((function(e){return console.log(e)}))}}(a)),o(!1)},type:"button",className:"btn btn-login btn-primary "},"Delete"))))},A=t(188),R=t(190),_=t(191),L=t(189),T=t(184),M=t(65),D=t.n(M),U=function(e){var a=e.screamId,t=Object(y.c)((function(e){return e.user.authenticated})),n=Object(y.b)(),c=Object(y.c)((function(e){return e.user}));return t?c.likes&&c.likes.find((function(e){return e.screamId===a}))?r.a.createElement(f,{tip:"Undo like",onClick:function(){n(function(e){return function(a){k.a.get("/scream/".concat(e,"/unlike")).then((function(e){a({type:"UNLIKE_SCREAM",payload:e.data})})).catch((function(e){}))}}(a))}},r.a.createElement(D.a,{color:"secondary"})):r.a.createElement(f,{tip:"Like",onClick:function(){n(function(e){return function(a){k.a.get("/scream/".concat(e,"/like")).then((function(e){a({type:"LIKE_SCREAM",payload:e.data})})).catch((function(e){}))}}(a))}},r.a.createElement(T.a,{color:"secondary"})):r.a.createElement(f,{tip:"Like"},r.a.createElement(o.b,{to:"/login"},r.a.createElement(T.a,{color:"secondary"})))},F=t(201),P=t(186),Y=t(187),H=t(185),q=t(203),G=Object(H.a)((function(e){return Object(q.a)({root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7)},leftText:{textAlign:"left"},rightText:{display:"flex",justifyContent:"flex-end"}})})),z=function(e){e.id;var a=G(),t=Object(y.c)((function(e){return e.data.scream.comments}));return r.a.createElement(P.a,{container:!0},t&&t.map((function(e,t){var c=e.body,l=e.createdAt,m=e.userImage,s=e.userHandle;return r.a.createElement(n.Fragment,{key:l},r.a.createElement(P.a,{item:!0,sm:12},r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,sm:2},r.a.createElement(F.a,{alt:"comment-image",src:m,className:a.large})),r.a.createElement(P.a,{item:!0,sm:10},r.a.createElement("div",{className:"comment-data"},r.a.createElement(i.a,{variant:"h6",component:o.b,to:"/users/".concat(s),color:"primary",display:"inline"},s),r.a.createElement(i.a,{variant:"body2",color:"textSecondary",display:"inline"},"\xa0\xa0-\xa0",u()(l).format("h:mm a, MMMM DD YYYY")),r.a.createElement(i.a,{variant:"body1"},c)))),r.a.createElement(Y.a,{variant:"inset"})))})))},W=t(30),B=function(e){var a,t,n=e.screamId,c=Object(W.a)(),l=c.reset,o=c.register,m=c.handleSubmit,i=Object(y.b)(),s=Object(y.c)((function(e){return e.UI}));return Object(y.c)((function(e){return e.user.authenticated}))?r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("form",{onSubmit:m((function(e){i(function(e,a){return function(t){k.a.post("/scream/".concat(e,"/comment"),a).then((function(e){t({type:"SUBMIT_COMMENT",payload:e.data}),t(C())})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}}(n,e)),l()}))},r.a.createElement("textarea",{rows:2,name:"body",placeholder:"Comment on scream",className:"form-control",maxLength:100,ref:o({required:!0,maxLength:100})}),(null===(a=s.errors)||void 0===a?void 0:a.comment)&&r.a.createElement("span",{className:"text-danger text-small d-block"},null===(t=s.errors)||void 0===t?void 0:t.comment),r.a.createElement("div",{className:"py-1"},r.a.createElement("button",{className:"btn btn-login btn-primary ",type:"submit"},"Submit"))),r.a.createElement("hr",{className:"visible-separator"})):null},K=function(e){var a=e.scream,t=Object(n.useState)(!1),c=Object(O.a)(t,2),l=c[0],s=c[1],d=a.userHandle,E=a.screamId,p=Object(n.useState)({oldPath:"",newPath:""}),b=Object(O.a)(p,2),g=b[0],N=b[1],S=Object(y.c)((function(e){return e.UI.loading})),I=Object(y.c)((function(e){return e.user.credentials})),x=Object(y.b)(),w=Object(m.h)(),T=function(){var e="/#"+w.pathname,t="/#/users/".concat(d,"/scream/").concat(E);e===t&&(e="/#/users/".concat(d)),window.history.pushState(null,"",t),N({oldPath:e,newPath:t}),s(!0),x(function(e){return function(a){k.a.get("/scream/".concat(e)).then((function(e){a({type:"SET_SCREAM",payload:e.data})})).catch((function(e){return console.log(e)}))}}(a.screamId))},M=function(){var e=g.oldPath;e="/#/"===g.oldPath?"/":"/#/users/".concat(d),window.history.pushState(null,"",e),s(!1),x(C())};Object(n.useEffect)((function(){e.openDialog&&T()}),[w]);var D=S?r.a.createElement(A.a,{size:200}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row py-1"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("img",{src:a.userImage,alt:"Profile",className:"profile-image"})),r.a.createElement("div",{className:"col-md-7"},r.a.createElement(i.a,{component:o.b,color:"primary",variant:"h5",to:"/users/".concat(I.handle)},"@",I.handle),r.a.createElement("hr",{className:"invisible-separator"}),r.a.createElement(i.a,{variant:"body2",color:"secondary"},u()(I.createdAt).format("h:mm a, MMM DD YYYY")),r.a.createElement("hr",{className:"invisible-separator"}),r.a.createElement(i.a,{variant:"body1"},a.body),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement(U,{screamId:a.screamId}),"Likes: ",a.likeCount),r.a.createElement("div",{className:"col-md-7"},r.a.createElement(f,{tip:"Comments"},r.a.createElement(h.a,{color:"secondary"})),"Comments: ",a.commentCount)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(B,{screamId:a.screamId}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(z,{id:a.screamId}))));return r.a.createElement(n.Fragment,null,r.a.createElement(f,{onClick:T,tip:"Expand scream"},r.a.createElement(L.a,{color:"secondary"})),r.a.createElement(v.a,{open:l,onClose:M,fullWidth:!0,maxWidth:"sm"},r.a.createElement(R.a,{className:"dialog-content"},D),r.a.createElement(j.a,null,r.a.createElement(_.a,{color:"primary",onClick:M},"Back"))))},J=function(e){u.a.extend(E.a);var a=Object(y.c)((function(e){return e.user})),t=Object(y.c)((function(e){return e.user.authenticated})),n=Object(y.c)((function(a){return a.data.screams[e.index]})),c=t&&n.userHandle===a.credentials.handle?r.a.createElement(w,{screamId:n.screamId}):null;return r.a.createElement("div",null,r.a.createElement("div",{className:"card mb-1"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("img",{src:n.userImage,className:"card-img",alt:"media"})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(i.a,{component:o.b,to:"/users/".concat(n.userHandle)},n.userHandle),r.a.createElement("small",null,"\xa0\xa0-\xa0",u()(n.createdAt).fromNow())),r.a.createElement("span",{className:"delete-button"},c),r.a.createElement("p",{className:"card-text"},n.body,r.a.createElement("br",null),r.a.createElement(U,{screamId:n.screamId}),"Likes: ",n.likeCount,r.a.createElement(f,{tip:"Comments"},r.a.createElement(h.a,{color:"secondary"})),"Comments: ",n.commentCount,r.a.createElement("span",{className:"expand-button"},r.a.createElement(K,{scream:n,openDialog:e.openDialog}))))))))},V=function(){return function(e){localStorage.removeItem("Token"),delete k.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED "})}},$=function(e){localStorage.setItem("Token","Bearer ".concat(e)),k.a.defaults.headers.common.Authorization=localStorage.getItem("Token")},Q=function(){return function(e){e({type:"LOADING_USER"}),k.a.get("/user").then((function(a){e({type:"SET_USER",payload:a.data})})).catch((function(e){return console.log(e)}))}},X=t(67),Z=t.n(X),ee=t(68),ae=t.n(ee),te=t(95),ne=t.n(te),re=t(66),ce=t.n(re),le=t(96),oe=t.n(le),me=t(5),ie=t(145),se=t(192),ue=t(193),de={bio:"",website:"",location:""},Ee=function(){var e=Object(n.useState)(!1),a=Object(O.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(de),o=Object(O.a)(l,2),m=o[0],i=o[1],s=Object(W.a)(),u=s.register,d=s.handleSubmit,E=s.reset,p=Object(y.c)((function(e){return e.user.credentials})),b=Object(y.b)(),g=function(){E(),c(!1)};return Object(n.useEffect)((function(){i({bio:p.bio?p.bio:"",website:p.website?p.website:"",location:p.location?p.location:""})}),[p]),r.a.createElement(n.Fragment,null,r.a.createElement(f,{onClick:function(){c(!0)},tip:"Edit details"},r.a.createElement(ce.a,{color:"primary"})),r.a.createElement(v.a,{open:t,onClose:g,fullWidth:!0,maxWidth:"sm"},r.a.createElement(N.a,null,"Edit your Details"),r.a.createElement(R.a,null,r.a.createElement("form",{onSubmit:d((function(e){b(function(e){return function(a){a({type:"LOADING_USER"}),k.a.post("/user/",e).then((function(){a(Q())})).catch((function(e){return console.log(e)}))}}(e))})),className:"form-signin"},r.a.createElement("textarea",{rows:3,name:"bio",placeholder:"A short bio about yourself",className:"form-control",defaultValue:m.bio,ref:u({maxLength:200})}),r.a.createElement("br",null),r.a.createElement("input",{name:"website",type:"text",className:"form-control",placeholder:"Your website",defaultValue:m.website,ref:u({maxLength:40})}),r.a.createElement("br",null),r.a.createElement("input",{name:"location",type:"text",className:"form-control",placeholder:"Where you live",defaultValue:m.location,ref:u({maxLength:40})}),r.a.createElement(j.a,null,r.a.createElement("button",{onClick:g,type:"button",className:"btn btn-link "},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-login btn-primary "},"Save"))))))},pe=Object(me.a)((function(e){return Object(q.a)({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})}))(se.a),be=Object(H.a)((function(e){return Object(q.a)({root:{display:"flex","& > *":{margin:e.spacing(1)}},large:{width:e.spacing(24),height:e.spacing(24)}})})),fe=function(){var e=be(),a=Object(y.c)((function(e){return e.user.loading})),t=Object(y.c)((function(e){return e.user.authenticated})),c=Object(y.c)((function(e){return e.user.credentials})),l=Object(y.b)();return a?r.a.createElement(n.Fragment,null,r.a.createElement(A.a,null)):t?r.a.createElement(n.Fragment,null,r.a.createElement(ie.a,{className:"classes.paper"},r.a.createElement("div",{className:"card-profile"},r.a.createElement("div",{className:"wrapper-image"},r.a.createElement(pe,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},r.a.createElement(F.a,{src:c.imageUrl,alt:"profile",className:e.large})),r.a.createElement("input",{type:"file",id:"imageInput",hidden:!0,onChange:function(e){var a=e.target.files[0],t=new FormData;t.append("image",a,a.name),l(function(e){return function(a){a({type:"LOADING_USER"}),k.a.post("/user/img",e).then((function(){a(Q())})).catch((function(e){return console.log(e)}))}}(t))}}),r.a.createElement(f,{onClick:function(){var e=document.getElementById("imageInput");null===e||void 0===e||e.click()},tip:"Edit profile picture"},r.a.createElement(ce.a,{color:"primary"}))),r.a.createElement("div",{className:"profile-details"},r.a.createElement(ue.a,{component:o.b,to:"/users/".concat(c.handle),variant:"h5"},"@",c.handle),r.a.createElement("hr",null),c.bio&&r.a.createElement(i.a,null,c.bio),r.a.createElement("hr",null),c.location&&r.a.createElement(n.Fragment,null,r.a.createElement(Z.a,null),r.a.createElement("span",null," ",c.location)),r.a.createElement("hr",null),c.website&&r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{color:"primary"}),r.a.createElement("a",{href:c.website,target:"_blank",rel:"noopener noreferrer"}," ",c.website)),r.a.createElement("hr",null),r.a.createElement(ne.a,null)," ",r.a.createElement("span",null,"Joined ",u()(c.createdAt).format("MMM YYYY")),r.a.createElement("hr",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(f,{onClick:function(){l(V())},tip:"Logout"},r.a.createElement(oe.a,{color:"primary"})),r.a.createElement(Ee,null)))))):r.a.createElement(n.Fragment,null,r.a.createElement(ie.a,{className:"py-4"},r.a.createElement(i.a,{variant:"body2",align:"center"},"No profile found, please login again"),r.a.createElement("div",{className:"no-profile-found py-1"},r.a.createElement(_.a,{variant:"contained",size:"small",color:"primary",component:o.b,className:"button-no-profile",to:"/login"},"Login"),r.a.createElement(_.a,{variant:"contained",color:"secondary",size:"small",component:o.b,className:"button-no-profile",to:"/signup"}," Signup"))))},ge=function(){var e=Object(y.c)((function(e){return e.UI.loading})),a=Object(y.c)((function(e){return e.data.screams})),t=Object(y.b)();return Object(n.useEffect)((function(){t((function(e){e({type:"LOADING_DATA"}),k.a.get("/screams").then((function(a){e({type:"SET_SCREAMS",payload:a.data})})).catch((function(a){e({type:"SET_SCREAMS",payload:[]})}))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 margin-bottom-profile "},r.a.createElement(fe,null)),r.a.createElement("div",{className:"col-md-8"},e?r.a.createElement(A.a,null):a.map((function(e,a){return r.a.createElement(J,{key:e.screamId,index:a})}))))))},he=function(){var e=!1,a=Object(n.useState)({}),t=Object(O.a)(a,2),c=t[0],l=t[1],i=Object(W.a)(),s=i.register,u=i.handleSubmit,d=i.errors,E=i.setError,p=i.getValues,b=i.clearErrors,f=Object(y.b)(),g=Object(m.g)(),h=Object(y.c)((function(e){return e.UI}));return Object(n.useEffect)((function(){var e;(null===(e=h.errors)||void 0===e?void 0:e.general)&&l(h.errors)}),[h]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"}),r.a.createElement("div",{className:"col-md-6 card-login"},r.a.createElement("div",{className:"py-4 text-center"},r.a.createElement("h1",{className:"title-login mb-3 font-weight-normal"},"Sign Up")),r.a.createElement("div",{className:""},r.a.createElement("form",{onSubmit:u((function(a){e=!0,f(function(e,a){return function(t){t({type:"LOADING_UI"}),k.a.post("/signup",e).then((function(e){$(e.data.token),t(Q()),t({type:"CLEAR_ERRORS"}),a.push("/")})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}}(a,g))})),className:"form-signin"},r.a.createElement("input",{name:"email",type:"email",placeholder:"your email",pattern:".+@gmail.com",title:"your email must be @gmail",className:"form-control",ref:s({required:!0,maxLength:20})}),r.a.createElement("small",null,"Example: username@gmail.com"),d.email&&r.a.createElement("span",{className:"text-danger text-small d-block"},"Email is required"),r.a.createElement("br",null),r.a.createElement("input",{name:"password",type:"password",className:"form-control",placeholder:"password",ref:s({required:!0,minLength:7,maxLength:15})}),r.a.createElement("small",null,"Must have at least 6 characters"),d.password&&r.a.createElement("span",{className:"text-danger text-small d-block"},"Password is required"),r.a.createElement("br",null),r.a.createElement("input",{name:"confirmPassword",type:"password",className:"form-control",placeholder:"repeat password",onBlur:function(e){return function(e){e!==p("password")?E("confirmPassword",{type:"manual"}):b("confirmPassword")}(e.target.value)},ref:s({required:!0,minLength:7,maxLength:15})}),r.a.createElement("small",null,"Must match password"),d.confirmPassword&&r.a.createElement("span",{className:"text-danger text-small d-block"},"Password not match"),r.a.createElement("br",null),r.a.createElement("input",{name:"handle",type:"text",placeholder:"username",className:"form-control",ref:s({required:!0,maxLength:15})}),d.handle&&r.a.createElement("span",{className:"text-danger text-small d-block"},"Username is required"),r.a.createElement("br",null),c&&r.a.createElement("span",{className:"text-danger text-small d-block"},c.general),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",{className:"btn btn-primary btn-login",type:"submit"},"Sign up",e&&r.a.createElement(A.a,{size:30}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("span",null,"Have an account? "),r.a.createElement(o.b,{to:"/login",className:"signin-login"}," Login here"))),r.a.createElement("br",null)))),r.a.createElement("div",{className:"col"})))},ye=t(97),Oe=t.n(ye),ve=function(){var e=!1,a=Object(n.useState)({}),t=Object(O.a)(a,2),c=t[0],l=t[1],i=Object(W.a)(),s=i.register,u=i.handleSubmit,d=i.errors,E=Object(y.b)(),p=Object(m.g)(),b=Object(y.c)((function(e){return e.UI}));return Object(n.useEffect)((function(){var e;(null===(e=b.errors)||void 0===e?void 0:e.general)&&l(b.errors)}),[b]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"}),r.a.createElement("div",{className:"col-md-6 card-login"},r.a.createElement("div",{className:"py-4 text-center"},r.a.createElement("img",{className:"mb-4",src:Oe.a,alt:"",width:"76",height:"76"}),r.a.createElement("h1",{className:"title-login mb-3 font-weight-normal"},"Welcome")),r.a.createElement("div",{className:""},r.a.createElement("form",{onSubmit:u((function(a){e=!0,E(function(e,a){return function(t){t({type:"LOADING_UI"}),k.a.post("/login",e).then((function(e){$(e.data.token),t(Q()),t({type:"CLEAR_ERRORS"}),a.push("/")})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}}(a,p))})),className:"form-signin"},r.a.createElement("input",{name:"email",type:"email",placeholder:"your email",className:"form-control",pattern:".+@gmail.com",title:"your email must be @gmail",ref:s({required:!0,maxLength:20})}),r.a.createElement("small",null,"Example: username@gmail.com"),d.email&&r.a.createElement("span",{className:"text-danger text-small d-block"},"Email is required"),r.a.createElement("br",null),r.a.createElement("input",{name:"password",type:"password",className:"form-control",placeholder:"password",ref:s({required:!0,minLength:7,maxLength:15})}),r.a.createElement("small",null,"Must have at least 6 characters"),d.password&&r.a.createElement("span",{className:"text-danger text-small d-block"},"Password is required"),r.a.createElement("br",null),c&&r.a.createElement("span",{className:"text-danger text-small d-block"},c.general),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("button",{className:"btn btn-login btn-primary",type:"submit"},"Login",e&&r.a.createElement(A.a,{color:"secondary",size:30}))),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("span",null,"Don't have an account? "),r.a.createElement(o.b,{to:"/signup",className:"signin-login"}," Sign in here"))),r.a.createElement("br",null)))),r.a.createElement("div",{className:"col"})))},Ne=t(194),je=t(195),Se=t(98),Ie=t.n(Se),xe=function(){var e=Object(n.useState)(!1),a=Object(O.a)(e,2),t=a[0],c=a[1],l=Object(W.a)(),o=l.register,m=l.handleSubmit,i=Object(y.b)(),s=Object(y.c)((function(e){return e.UI.loading})),u=function(){c(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(f,{onClick:function(){c(!0)},tip:"Post a Scream"},r.a.createElement(Ie.a,{color:"primary"})),r.a.createElement(v.a,{open:t,onClose:u,fullWidth:!0,maxWidth:"sm"},r.a.createElement(N.a,null," Post a new Screams"),r.a.createElement(R.a,null,r.a.createElement("form",{onSubmit:m((function(e){var a;i((a=e,function(e){e({type:"LOADING_UI"}),k.a.post("/scream",a).then((function(a){e({type:"POST_SCREAM",payload:a.data}),e(C())})).catch((function(a){e({type:"SET_ERRORS",payload:a.response.data})}))})),c(!1)})),className:"form-signin"},r.a.createElement("textarea",{rows:3,name:"body",placeholder:"What are you thinking?",className:"form-control",maxLength:150,ref:o({required:!0,maxLength:150})}),r.a.createElement("br",null),r.a.createElement("button",{onClick:u,type:"button",className:"btn btn-link"},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-login btn-primary ",disabled:s},"Submit",s&&r.a.createElement(A.a,{className:"progress-spiner",size:30}))))))},ke=t(198),Ce=t(202),we=t(57),Ae=t.n(we),Re=function(){var e=Object(y.b)(),a=Object(n.useState)({anchorEl:null}),t=Object(O.a)(a,2),c=t[0],l=t[1],m=Object(y.c)((function(e){return e.user.notifications})),s=function(){l({anchorEl:null})};u.a.extend(E.a);var d=r.a.createElement(Ae.a,null);if(m&&m.length>0){var f=m.filter((function(e){return!1===e.read})),g=r.a.createElement(se.a,{badgeContent:f.length,color:"secondary"},r.a.createElement(Ae.a,null));d=f.length>0?g:r.a.createElement(Ae.a,null)}else d=r.a.createElement(Ae.a,null);var v=m&&m.length>0?m.map((function(e){var a="like"===e.type?"liked":"commented on",t=u()(e.createdAt).fromNow(),n=e.read?"primary":"secondary",c="like"===e.type?r.a.createElement(D.a,{color:n,style:{marginRight:10}}):r.a.createElement(h.a,{color:n,style:{marginRight:10}});return r.a.createElement(Ce.a,{key:e.createdAt,onClick:s},c,r.a.createElement(i.a,{component:o.b,variant:"body1",to:"/users/".concat(e.recipient,"/scream/").concat(e.screamId)},e.sender," ",a," your scream ",t))})):r.a.createElement(Ce.a,{onClick:s},"You have no notifications yet");return r.a.createElement(n.Fragment,null,r.a.createElement(p.a,{placement:"top",title:"Notifications"},r.a.createElement(b.a,{"aria-owns":c.anchorEl?"simple-menu":void 0,"aria-haspopup":"true",onClick:function(e){l({anchorEl:e.target})}},d)),r.a.createElement(ke.a,{anchorEl:c.anchorEl,open:Boolean(c.anchorEl),onClose:s,onEntered:function(){var a,t=m.filter((function(e){return!e.read})).map((function(e){return e.notificationId}));t.length>0&&e((a=t,function(e){k.a.post("/notifications/",a).then((function(){e({type:"MARK_NOTIFICATIONS_READ"})})).catch((function(e){return console.log(e)}))}))}},v))},_e=t(99),Le=t.n(_e),Te=function(){var e=Object(y.c)((function(e){return e.user.authenticated}));return r.a.createElement(n.Fragment,null,r.a.createElement(Ne.a,null,r.a.createElement(je.a,{className:"nav-container"},e?r.a.createElement(n.Fragment,null,r.a.createElement(xe,null),r.a.createElement(o.b,{to:"/"},r.a.createElement(f,{tip:"Home"},r.a.createElement(Le.a,{color:"action"}))),r.a.createElement(Re,null)):r.a.createElement(n.Fragment,null,r.a.createElement(_.a,{color:"inherit",component:o.b,to:"/login"},"Login"),r.a.createElement(_.a,{color:"inherit",component:o.b,to:"/"},"Home"),r.a.createElement(_.a,{color:"inherit",component:o.b,to:"/signup"},"Signup")))))},Me=function(e){var a=e.component,t=e.rest,n=Object(y.c)((function(e){return!!e.user.authenticated}));return r.a.createElement(m.b,Object.assign({},t,{component:function(e){return!0===n?r.a.createElement(m.a,{to:"/"}):r.a.createElement(a,e)}}))},De=t(100),Ue=t(42),Fe=t(101),Pe=t(13),Ye=t(7),He={authenticated:!1,loading:!1,credentials:{},likes:[],notifications:[]},qe={screams:[],scream:{},loading:!1},Ge={loading:!1,errors:null},ze=[Fe.a],We=Object(Ue.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_AUTHENTICATED ":return Object(Ye.a)(Object(Ye.a)({},e),{},{authenticated:!0});case"SET_UNAUTHENTICATED ":return He;case"SET_USER":return Object(Ye.a)({authenticated:!0,loading:!1},a.payload);case"LOADING_USER":return Object(Ye.a)(Object(Ye.a)({},e),{},{loading:!0});case"LIKE_SCREAM":return Object(Ye.a)(Object(Ye.a)({},e),{},{likes:[].concat(Object(Pe.a)(e.likes),[{userHandle:e.credentials.handle,screamId:a.payload.screamId}])});case"UNLIKE_SCREAM":return Object(Ye.a)(Object(Ye.a)({},e),{},{likes:e.likes.filter((function(e){return e.screamId!==a.payload.screamId}))});case"MARK_NOTIFICATIONS_READ":return e.notifications.forEach((function(e){return e.read=!0})),Object(Ye.a)({},e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING_DATA":return Object(Ye.a)(Object(Ye.a)({},e),{},{loading:!0});case"SET_SCREAMS":return Object(Ye.a)(Object(Ye.a)({},e),{},{screams:a.payload});case"SET_SCREAM":return Object(Ye.a)(Object(Ye.a)({},e),{},{scream:a.payload});case"LIKE_SCREAM":case"UNLIKE_SCREAM":var t=e.screams.findIndex((function(e){return e.screamId===a.payload.screamId}));return e.screams[t]=a.payload,e.scream.screamId===a.payload.screamId&&(e.scream=Object(Ye.a)(Object(Ye.a)({},e.scream),{},{likeCount:a.payload.likeCount})),Object(Ye.a)({},e);case"DELETE_SCREAM":var n=e.screams.findIndex((function(e){return e.screamId===a.payload}));return e.screams.splice(n,1),Object(Ye.a)({},e);case"POST_SCREAM":return Object(Ye.a)(Object(Ye.a)({},e),{},{screams:[a.payload].concat(Object(Pe.a)(e.screams))});case"SUBMIT_COMMENT":var r=e.screams.findIndex((function(e){return e.screamId===a.payload.screamId}));return e.screams[r]=Object(Ye.a)(Object(Ye.a)({},e.screams[r]),{},{commentCount:e.scream.commentCount+1}),e.scream=Object(Ye.a)(Object(Ye.a)({},e.scream),{},{commentCount:e.scream.commentCount+1,comments:[a.payload].concat(Object(Pe.a)(e.scream.comments))}),Object(Ye.a)({},e);default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERRORS":return Object(Ye.a)(Object(Ye.a)({},e),{},{loading:!1,errors:a.payload});case"CLEAR_ERRORS":return Object(Ye.a)(Object(Ye.a)({},e),{},{loading:!1,errors:null});case"LOADING_UI":return Object(Ye.a)(Object(Ye.a)({},e),{},{loading:!0});case"STOP_LOADING_UI":return Object(Ye.a)(Object(Ye.a)({},e),{},{loading:!1});default:return e}}}),Be=Object(Ue.e)(We,{},Object(Ue.d)(Ue.a.apply(void 0,ze))),Ke=t(196),Je=Object(me.a)((function(e){return Object(q.a)({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})}))(se.a),Ve=Object(H.a)((function(e){return Object(q.a)({root:{display:"flex","& > *":{margin:e.spacing(1)}},large:{width:e.spacing(24),height:e.spacing(24)}})})),$e=function(e){var a=Ve(),t=e.profile,c=t.handle,l=t.createdAt,m=t.imageUrl,s=t.bio,d=t.website,E=t.location;return r.a.createElement(ie.a,{className:"paper"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"wrapper-image"},r.a.createElement(Je,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},r.a.createElement(F.a,{src:m,alt:"profile",className:a.large}))),r.a.createElement("div",{className:"profile-details"},r.a.createElement(ue.a,{component:o.b,to:"/users/".concat(c),variant:"h5"},"@",c),r.a.createElement("hr",null),s&&r.a.createElement(i.a,{variant:"body2"},s),r.a.createElement("hr",null),E&&r.a.createElement(n.Fragment,null,r.a.createElement(Z.a,{color:"primary"})," ",r.a.createElement("span",null,E),r.a.createElement("hr",null)),d&&r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{color:"primary"}),r.a.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer"}," ",d),r.a.createElement("hr",null)),r.a.createElement(Ke.a,{color:"primary"})," ",r.a.createElement("span",null,"Joined ",u()(l).format("MMM YYYY")),r.a.createElement("br",null))))},Qe=function(){var e=Object(n.useState)(null),a=Object(O.a)(e,2),t=a[0],c=a[1],l=Object(m.i)(),o=l.handleParam,i=l.screamIdParam,s=Object(y.c)((function(e){return e.UI.loading})),u=Object(y.c)((function(e){return e.data.screams})),d=s?r.a.createElement(A.a,null):null===u?r.a.createElement("p",null,"No screams from this user"):void 0===i?u.map((function(e,a){if(e.userHandle===o)return r.a.createElement(J,{key:e.screamId,index:a})})):u.map((function(e,a){return e.screamId===i?r.a.createElement(J,{key:e.screamId,index:a,openDialog:!0}):e.userHandle===o?r.a.createElement(J,{key:e.screamId,index:a}):void 0}));return Object(n.useEffect)((function(){k.a.get("/user/".concat(o)).then((function(e){c(e.data.user)})).catch((function(e){console.log(e)}))}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 margin-bottom-profile"},null===t?r.a.createElement(A.a,null):r.a.createElement($e,{profile:t})),r.a.createElement("div",{className:"col-md-8"},d))))},Xe=localStorage.getItem("Token");Xe&&(1e3*Object(De.a)(Xe).exp<Date.now()?Be.dispatch(V()):(Be.dispatch({type:"SET_AUTHENTICATED "}),k.a.defaults.headers.common.Authorization=Xe,Be.dispatch(Q())));var Ze=function(){return r.a.createElement(y.a,{store:Be},r.a.createElement(o.a,null,r.a.createElement(Te,null),r.a.createElement("div",{className:"container"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:ge}),r.a.createElement(Me,{path:"/login",component:ve}),r.a.createElement(Me,{path:"/signup",component:he}),r.a.createElement(m.b,{exact:!0,path:"/users/:handleParam",component:Qe}),r.a.createElement(m.b,{exact:!0,path:"/users/:handleParam/scream/:screamIdParam",component:Qe})))))};l.a.render(r.a.createElement(Ze,null),document.getElementById("root"))},97:function(e,a,t){e.exports=t.p+"static/media/no-img.5405d77c.png"}},[[114,1,2]]]);
//# sourceMappingURL=main.32a62890.chunk.js.map